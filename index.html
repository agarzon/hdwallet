<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script src="js/jquery.min.js"></script>
    <script src="bower_components/bitcore-lib/bitcore-lib.js"></script>
    <script src="bower_components/bitcore-mnemonic/bitcore-mnemonic.js"></script>
    <script src="js/nets.js"></script>
    <script>
    var bitcore = require('bitcore-lib');
    var Mnemonic = require('bitcore-mnemonic');

    // Lets use the potcoin network
    var AltNet = new bitcore.Networks.add(PotNet);
    bitcore.Networks.defaultNetwork = AltNet;

    // Word generation
    //var code = new Mnemonic(Mnemonic.Words.SPANISH);// Spanish
    //var code = new Mnemonic();// English
    //var nemo =code.toString(); // film speed midnight cave come federal horror unusual cute trap congress inherit
    //console.log(nemo);

    // Get private from seed with protection
    var code = new Mnemonic('film speed midnight cave come federal horror unusual cute trap congress inherit');
    var xpriv = code.toHDPrivateKey('superPassword');
    //console.log(xpriv); // 83eRLJFkhQGDSk2eGZmsqfJuwpEKKDyCMwb99AL3b8VEZzvCRPafNp1CQLm6cfAwMZz4hoFUV744ZvbE5JNgmZDVMXRtQgMALJPiM8evLSnNTdC5

    // Validate seed
    //var code = 'select scout crash enforce riot rival spring whale hollow radar rule sentence';
    //var valid = Mnemonic.isValid(code);
    //console.log('is valid: ' + valid);

    // Validate address
    /*if (bitcore.Address.isValid('PRzNVTKRdm3U2feaZhrk13VfQUxp5J7BqK')) {
        console.log('Address is valid');
    }*/

    // Traditional address generation
    /*
    var privateKey = new bitcore.PrivateKey();
    console.log('private : ' + privateKey);
    var address = privateKey.toAddress();
    console.log('address : ' + address);
    */


    var hdPrivateKey = new bitcore.HDPrivateKey(xpriv);
    console.log(hdPrivateKey); // Funny, the same as xpriv
    var hdPublicKey = hdPrivateKey.hdPublicKey;
    console.log(hdPublicKey);


    var firstHDAddress = new bitcore.Address(hdPublicKey.publicKey).toString();
    console.log(firstHDAddress);

    // Address from hdPublicKey
    var derivedAddress1 = new bitcore.Address(hdPublicKey.derive(0).publicKey).toString();
    console.log(derivedAddress1);

    // Address from hdPrivateKey
    var derivedAddress2 = new bitcore.Address(hdPrivateKey.derive(0).publicKey).toString();
    console.log(derivedAddress2);

    console.log((derivedAddress1 === derivedAddress2)); // They are the same

    // Address from m/44" 81 for potcoin https://github.com/libbitcoin/libbitcoin/wiki/Altcoin-Version-Mappings
    var derivedAddress44 = new bitcore.Address(hdPrivateKey.derive("m/44'/81'/0'/0").derive(1, true).publicKey).toString();
    console.log(derivedAddress44); // PLtNzhajqDN6XLdhQa3vrJyXBGvXjjgbF2 working and confirmed

    for (var i = 0; i < 10; i++) {
        var derivedAddress44 = new bitcore.Address(hdPrivateKey.derive("m/44'/81'/0'/0").derive(i, true).publicKey).toString();
        console.log(derivedAddress44); // PLtNzhajqDN6XLdhQa3vrJyXBGvXjjgbF2 working and confirmed
    }
    </script>
</head>

<body>
</body>

</html>